// setting flash update ok voltage
    uint8_t attempt = 0;
    while(read_flash_update_ok_voltage()!=1500 && attempt < 3)
    {
        set_flash_update_ok_voltage(1500);
        if(read_flash_update_ok_voltage()!=1500)
        {
            attempt++;
        }
        
    }
    if(attempt>=3)
    {
        printf("Failed to set flash update ok voltage");
    }


    // set voltsel bit
    attempt = 0;
    while(read_voltsel()!=1 && attempt < 3)
    {
        set_voltsel();
        if(read_voltsel()!=1)
        {
            attempt++;
        }
        
    }
    if(attempt>=3)
    {
        printf("Failed to set voltsel bit");
    }


    // set series cell
    attempt = 0;
    while(read_series_cell()!=4 && attempt < 3)
    {
        set_series_cell(4);
        if(read_series_cell()!=4)
        {
            attempt++;
        }
        
    }
    if(attempt>=3)
    {
        printf("Failed to set series cell");
    }

    // set voltage divider
    attempt = 0;
    while(readVDivider()!=37364 && attempt < 3)
    {
        set_vdivider(37364);
        if(readVDivider()!=37364)
        {
            attempt++;
        }
        
    }
    if(attempt>=3)
    {
        printf("Failed to set voltage divider");
    }

    // set design energy scale
    attempt = 0;
    while(read_design_energy_scale()!=10 && attempt < 3)
    {
        set_design_energy_scale(10);
        if(read_design_energy_scale()!=10)
        {
            attempt++;
        }
        
    }
    if(attempt>=3)
    {
        printf("Failed to set design energy scale");
    }

    // set design capacity
    attempt = 0;
    while(read_design_capacity()!=20000 && attempt < 3)
    {
        set_design_capacity(20000);
        if(read_design_capacity()!=20000)
        {
            attempt++;
        }
        
    }
    if(attempt>=3)
    {
        printf("Failed to set design capacity");
    }

    // set design energy
    attempt = 0;
    while(read_design_energy()!=25200 && attempt < 3)
    {
        set_design_energy(25200);
        if(read_design_energy()!=20000)
        {
            attempt++;
        }
        
    }
    if(attempt>=3)
    {
        printf("Failed to set design energy");
    }